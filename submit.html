<!DOCTYPE html>
<html data-bs-theme="dark" lang="zh" data-bss-forced-theme="dark">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>北中大师赛</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css">
    <link rel="stylesheet" href="assets/css/styles.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
</head>

<body style="position:relative;">
    <section>
        <nav class="navbar navbar-expand-md fixed-top navbar-light" id="mainNav">
            <div class="container"><button data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                    class="navbar-toggler navbar-toggler-right" type="button" aria-controls="navbarResponsive"
                    aria-expanded="false" aria-label="Toggle navigation" value="Menu"><i
                        class="fas fa-bars"></i></button>
                <div class="collapse navbar-collapse" id="navbarResponsive"><a href="index.html"
                        style="background:url(&quot;assets/img/bamwhite.png&quot;) center / contain no-repeat;width:105px;height:64px;"
                        target="_top"></a>
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item nav-link"><a class="nav-link"
                                href="index.html#about"><strong>关于</strong></a></li>
                        <li class="nav-item nav-link"><a class="nav-link active" href="#submit"
                                style="font-weight:bold;">提交</a></li>
                        <li class="nav-item nav-link"><a class="nav-link"
                                href="index.html#contact"><strong>联系我们</strong></a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </section>
    <section>
        <form id="submit" style="margin-top:104px;text-align:center;" data-netlify="true" method="post" action="/"
            enctype="multipart/form-data"><input class="form-control" type="text" data-bs-theme="dark" maxlength="4"
                minlength="2" name="Name" placeholder="姓名" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;font-weight:bold;border-radius:5px;"><input
                class="form-control" type="email" data-bs-theme="dark" name="Email"
                pattern="^(?=.*[A-Za-z0-9])([\w+\-\.]+@[A-Za-z0-9\-]+(\.[A-Za-z]{2,})+)$" placeholder="邮箱地址" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;font-weight:bold;border-radius:5px;"><small
                class="form-text" style="font-size:15px;"><span style="color:rgb(255, 255, 255);"></span></small><span
                style="color:rgb(255, 255, 255);">请参见<a href="guide.html">提交指南</a>选择组别</span><select class="form-select"
                data-bs-theme="dark" name="Category" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;font-weight:bold;border-radius:5px;"
                value="请选择组别">
                <option value="" selected="">请选择组别</option>
                <option value="艺术组">艺术组</option>
                <option value="建筑组">建筑组</option>
                <option value="风光组">风光组</option>
                <option value="人像组">人像组</option>
                <option value="街道组">街道组</option>
                <option value="动物组">动物组</option>
                <option value="纪实组">纪实组</option>
                <option value="开放组">开放组</option>
            </select><small class="form-text" style="font-size:15px;"><span
                    style="color:rgb(255, 255, 255);">请提交作品1（封面作品）</span></small><input class="form-control" type="file"
                accept=".jpg, .jpeg, .tif. .tiff" data-bs-theme="dark" name="Image 1" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;font-weight:bold;border-radius:5px;font-family:helvetica;"><small
                class="form-text" style="font-size:15px;"><span
                    style="color:rgb(255, 255, 255);">请提交作品2</span></small><input class="form-control" type="file"
                accept=".jpg, .jpeg, .tif. .tiff" data-bs-theme="dark" name="Image 2" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;border-radius:5px;font-weight:bold;font-family:helvetica;"><small
                class="form-text" style="font-size:15px;"><span
                    style="color:rgb(255, 255, 255);">请提交作品3</span></small><input class="form-control" type="file"
                accept=".jpg, .jpeg, .tif. .tiff" data-bs-theme="dark" name="Image 3" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;font-weight:bold;border-radius:5px;font-family:helvetica;"><select
                class="form-select" data-bs-theme="dark" name="AI Check" required=""
                style="margin:auto;margin-top:auto;width:auto;margin-right:auto;margin-bottom:20px;margin-left:auto;text-align:center;border-radius:5px;font-family:Helvetica;font-weight:bold;">
                <option value="" selected="">是否使用非摄影手段（包括后期合成和部分或全部使用AI等）</option>
                <option value="是">是</option>
                <option value="否">否</option>
            </select><textarea class="form-control form-control-lg form-control form-control" cols="24"
                data-bs-theme="dark" maxlength="300" minlength="0" name="Discription"
                placeholder="对作品的简要介绍具（可选），体说明所使用的非摄影手段" rows="6"
                style="width:auto;text-align:center;margin:auto;margin-bottom:20px;font-weight:bold;font-size:16px;"></textarea><input
                class="btn btn-primary" type="submit"
                style="margin:auto;text-align:center;margin-top:auto;font-weight:bold;background:var(--bs-border-color-translucent);color:var(--bs-emphasis-color);margin-bottom:20px;border-color:#ffffff;"
                value="提交"></form>
    </section>
    <script src="./dist/main.js"></script>
    <script>
        var files = document.getElementsByClassName('form-control');

        for (var i = 0; i < files.length; i++) {
            if (files[i].type === 'file') {
                files[i].addEventListener('change', function (e) {
                    var file = e.target.files[0];
                    var maxSize = 10 * 1024 * 1024; // 10MB
                    var allowedTypes = ["image/jpeg", "image/jpg", "image/tif", "image/tiff"]; // 允许的文件类型

                    if (!allowedTypes.includes(file.type)) {
                        alert("只允许上传JPEG图片");
                        e.target.value = "";
                    } else if (file.size > maxSize) {
                        alert("图片大小不能超过10MB");
                        e.target.value = "";
                    }
                });
            }
        }


        document.getElementById('submit').addEventListener('submit', async function (event) {
            event.preventDefault(); // 阻止表单的默认提交行为

            var formData = new FormData(this); // this 指向当前的 form 元素
            const adress = formData.get('Category') + "/" + formData.get('Name') + "/";

            for (let i = 1; i <= 3; i++) {
                const Name = "Image " + String(i);
                uploadImages(adress, formData.get(Name), Name);
                formData.delete(Name);
            }

            await blobUpload(
                JSON.stringify(Object.fromEntries(formData.entries())),
                adress + "info.json",
                "application/json"
            ).then(() => {
                alert('提交成功！', 'success');
            }).catch((error) => {
                console.error('提交失败:', error);
                alert('提交失败，请检查链接并重试');
            });
        });
    </script>
    <footer>
        <div class="container py-4 py-lg-5" style="background:#000000;">
            <div class="row justify-content-center">
                <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column item">
                    <h3 class="fs-6 text-white">指南</h3>
                    <ul class="list-unstyled">
                        <li><a class="link-light" href="guide.html">提交指南</a></li>
                        <li><a class="link-light" href="rules.html">参赛指南</a></li>
                    </ul>
                </div>
                <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column item">
                    <h3 class="fs-6 text-white">关于</h3><a class="link-light" href="index.html#about">北中大师赛</a>
                    <ul class="list-unstyled">
                        <li><a class="link-light" href="index.html#contact">评委团队</a></li>
                    </ul>
                </div>
                <div
                    class="col-lg-3 text-center text-lg-start d-flex flex-column align-items-center order-first align-items-lg-start order-lg-last item social">
                    <div class="fw-bold d-flex align-items-center mb-2"><span
                            class="d-flex justify-content-center align-items-center bs-icon-sm bs-icon-rounded bs-icon-primary bs-icon me-2"
                            style="background:url(&quot;assets/img/bamwhite.png&quot;) center / contain no-repeat, var(--bs-emphasis-color);"></span><i
                            class="far fa-star"
                            style="color:#ffffff00;background:url(&quot;assets/img/bamwhite.png&quot;) center / contain no-repeat;font-size:30px;"></i><span>北中大师赛</span>
                    </div>
                    <p class="text-muted copyright"><span
                            style="color:rgb(255, 255, 255);background-color:rgba(0, 0, 0, 0.18);">由北京中学学生举办的校级摄影比赛，欢迎同学及教师参加。</span>
                    </p>
                    <p style="font-family:helvetica;margin-bottom:5px;"><i class="icon ion-email"
                            style="margin:0 5px;text-align:center;font-size:14px;"></i>社团 ba-master@outlook.com</p>
                    <p style="font-family:helvetica;margin-bottom:20px;"><i class="icon ion-email"
                            style="margin:0 5px;text-align:center;font-size:14px;"></i>个人 rc-murphy@outlook.com</p>
                </div>
            </div>
            <hr>
            <div class="d-flex justify-content-between align-items-center pt-3">
                <p class="mb-0">Copyright © 2024&nbsp;Ruochong Li &amp; Ruisi Lin</p>
                <ul class="list-inline mb-0">
                    <li class="list-inline-item list-inline-item list-inline-item list-inline-item"></li>
                    <li class="list-inline-item list-inline-item list-inline-item list-inline-item"></li>
                </ul>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="assets/js/script.min.js"></script><!-- Default Statcounter code for BAM 2024
http://ba-master.github.io -->
    <script type="text/javascript">
        var sc_project = 12985465;
        var sc_invisible = 1;
        var sc_security = "a2b562fd"; 
    </script>
    <script type="text/javascript" src="https://www.statcounter.com/counter/counter.js" async></script>
    <noscript>
        <div class="statcounter"><a title="Web Analytics" href="https://statcounter.com/" target="_blank"><img
                    class="statcounter" src="https://c.statcounter.com/12985465/0/a2b562fd/1/" alt="Web Analytics"
                    referrerPolicy="no-referrer-when-downgrade"></a></div>
    </noscript>
    <!-- End of Statcounter Code -->
</body>

</html>